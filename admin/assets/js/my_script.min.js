function countField(e){function t(){jQuery("span.word_counter").text(translation.word_counter+jQuery(e).val().length)}jQuery(e).after('<span class="word_counter" style="display:block; margin:0 15px 0 0; font-weight:bold;"></span>'),jQuery(e).bind({keyup:function(){t()},change:function(){t()}}),t()}jQuery(document).ready(function(e){if(e(".c-color-picker").wpColorPicker(),e(".sortable").sortable({handle:".theme_option_subbox_headline",placeholder:"sortable-placeholder",helper:"clone",forceHelperSize:!0,forcePlaceholderSize:!0}),e("#my_theme_option").length){e("#my_theme_option").cookieTab({tabMenuElm:"#theme_tab",tabPanelElm:"#tab-panel"}),e(".theme_option_field").on("click",".theme_option_subbox_headline",function(t){e(this).parent(".sub_box").toggleClass("active")}).on("change keyup",".change_subbox_headline",function(t){e(this).closest(".sub_box").find(".theme_option_subbox_headline").text(e(this).val())}).on("click",'input[type="radio"]',function(){var t=e(this).attr("name").match(/dp_options\[(\w+)\]/)[1],a=e(this).val();e('[id^="'+t+'"]').length&&(e('[id^="'+t+'"]').hide(),e('[id="'+t+"_"+a+'"]').show())}),e(".repeater-wrapper").on("change",".footer-bar-type select",function(){var t=e(this).parents(".sub_box"),a=t.find(".footer-bar-target"),n=t.find(".footer-bar-url"),o=t.find(".footer-bar-number");switch(e(this).val()){case"type1":a.show(),n.show(),o.hide();break;case"type2":a.hide(),n.hide(),o.hide();break;case"type3":a.hide(),n.hide(),o.show()}});e("#tab-panel").on("click",".ajax_button",function(t){if(!function(){var t=e(".style-cat").length,a=0,n=[],o=[];e("#myOptionsForm .invalid").removeClass("invalid");for(var r=1;r<=t;r++){var i=e('input[name="dp_options\\[style_cat'+r+'\\]"');if(i.val())for(var s=r+1;s<=t;s++){var l=e('input[name="dp_options\\[style_cat'+s+'\\]"');i.val()==l.val()&&(a++,-1==e.inArray(r,n)&&n.push(r),-1==e.inArray(s,n)&&n.push(s))}}return a&&o.push(error_messages.duplicate),!n.length||(e("#saving_data").hide(),e.each(n,function(t,a){var n=e('input[name="dp_options\\[style_cat'+a+'\\]"');n.addClass("invalid").on("focus",function(){e(this).removeClass("invalid").off("focus"),e("#errorMessage:visible").stop().fadeOut(500).off("click")}),0===t&&(n.parents(".sub_box").hasClass("active")||n.parents(".sub_box").addClass("active"),n.parents(".tab-content").is(":hidden")&&(e("#tab-panel .tab-content").hide(),n.parents(".tab-content").show(),e("#theme_tab li.current").removeClass("current"),e('#theme_tab li a[href*="#'+n.parents(".tab-content").attr("id")+'"]').closest("li").addClass("current")),e(window).scrollTop(n.offset().top-150))}),o.length&&(e("#saved_data").html('<div id="errorMessage" class="errorModal"></div>'),e("#errorMessage").html("<p>"+o.join("<br>")+"</p>").height(e("#errorMessage").children().outerHeight(!0)).fadeIn(300).delay(5e3).fadeOut(500).on("click",function(){e(this).stop().fadeOut(500)})),!1)}())return!1;t.preventDefault();var a=e(".button-ml");e("#saving_data").show(),window.tinyMCE&&tinyMCE.triggerSave(),e("#myOptionsForm").ajaxSubmit({beforeSend:function(){a.attr("disabled",!0)},complete:function(){a.attr("disabled",!1)},success:function(){e("#saving_data").hide(),e("#saved_data").html('<div id="saveMessage" class="successModal"></div>'),e("#saveMessage").append("<p>"+error_messages.success+"</p>").show()},error:function(){e("#saving_data").hide(),alert(error_messages.error)},timeout:1e4}),setTimeout(function(){jQuery("#saveMessage").hide()},3e3)})}e(".repeater-wrapper").each(function(){var t=e(this).find(".repeater-item").last().index();e(this).find(".button-add-row").click(function(a){a.preventDefault();var n=e(this).attr("data-clone"),o=e(this).closest(".repeater-wrapper");n&&o.length&&(t++,o.find(".repeater").append(n.replace(/addindex/g,t)))})}).on("click",".button-delete-row",function(t){t.preventDefault();var a=!0,n=e(this).closest(".repeater-wrapper").attr("data-delete-confirm");n.length&&(a=confirm(n)),a&&e(this).closest(".repeater-item").remove()})});